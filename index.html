<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>استمارة معلومات (النسخة النهائية)</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="container">
        <h1>استمارة معلومات عائلة المضحي</h1>
        <form id="victimInfoForm">

            <fieldset>
                <legend>1. معلومات المضحي الأساسية</legend>
                <div class="form-group">
                    <label for="fullName">الاسم الرباعي واللقب:</label>
                    <input type="text" id="fullName" required>
                </div>
                <div class="form-group">
                    <label for="victimMaritalStatus">الحالة الاجتماعية للمضحي:</label>
                    <select id="victimMaritalStatus">
                        <option value="">-- اختر --</option>
                        <option value="اعزب">اعزب</option>
                        <option value="متزوج">متزوج</option>
                        <option value="مطلق">مطلق</option>
                        <option value="ارمل">ارمل</option>
                    </select>
                </div>
            </fieldset>

            <fieldset>
                <legend>2. معلومات الوالدين</legend>
                <div class="form-group">
                    <label for="fatherStatus">الحالة الحياتية للأب:</label>
                    <select id="fatherStatus">
                        <option value="">-- اختر --</option>
                        <option value="حي">حي</option>
                        <option value="متوفي">متوفي</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="motherStatus">الحالة الحياتية للأم:</label>
                    <select id="motherStatus">
                        <option value="">-- اختر --</option>
                        <option value="حية">حية</option>
                        <option value="متوفية">متوفية</option>
                    </select>
                </div>
                <div id="parentsMaritalStatusWrapper" class="form-group hidden">
                    <label for="parentsMaritalStatus">الحالة الاجتماعية للوالدين:</label>
                    <select id="parentsMaritalStatus">
                        <option value="">-- اختر --</option>
                        <option value="مجتمعين">مجتمعين</option>
                        <option value="منفصلين">منفصلين</option>
                    </select>
                </div>
                <div id="parentsStatusNote" class="status-note hidden"></div>
            </fieldset>
            
            <fieldset id="combinedFinancials" class="hidden">
                <legend>3. الحالة المادية للوالدين (مجتمعين)</legend>
                <div class="form-group"><label>اسم المستفيد (الأهل):</label><input type="text" placeholder="مثال: أهل الشهيد فلان"></div>
                <div class="form-group"><label>إجمالي دخل الأسرة:</label><input type="number" placeholder="الدخل الشهري"></div>
                <div class="form-group"><label>إجمالي مصاريف الأسرة:</label><input type="number" placeholder="المصاريف الشهرية"></div>
            </fieldset>

            <div id="separatedFinancials" class="hidden">
                <fieldset>
                    <legend>3.1. الحالة المادية للأب (منفصل)</legend>
                    <div class="form-group"><label>اسم المستفيد (الأب):</label><input type="text" placeholder="اسم الأب الكامل"></div>
                    <div class="form-group"><label>إجمالي دخل الأب:</label><input type="number" placeholder="الدخل الشهري للأب"></div>
                    <div class="form-group"><label>إجمالي مصاريف الأب:</label><input type="number" placeholder="المصاريف الشهرية للأب"></div>
                </fieldset>
                <fieldset>
                    <legend>3.2. الحالة المادية للأم (منفصلة)</legend>
                    <div class="form-group"><label>اسم المستفيد (الأم):</label><input type="text" placeholder="اسم الأم الكامل"></div>
                    <div class="form-group"><label>إجمالي دخل الأم:</label><input type="number" placeholder="الدخل الشهري للأم"></div>
                    <div class="form-group"><label>إجمالي مصاريف الأم:</label><input type="number" placeholder="المصاريف الشهرية للأم"></div>
                </fieldset>
            </div>
            
             <fieldset id="survivorFinancials" class="hidden">
                <legend>3. الحالة المادية للوالد الباقي على قيد الحياة</legend>
                 </fieldset>

            <fieldset id="spouseSection" class="hidden">
                <legend>4. معلومات الزوجة والحالة المادية</legend>
                <div class="form-group"><label>اسم المستفيد (الزوجة):</label><input type="text" placeholder="اسم الزوجة الكامل"></div>
                <div class="form-group"><label>دخل الزوجة الشهري:</label><input type="number" placeholder="0"></div>
                <div class="form-group"><label>عدد الأولاد:</label><input type="number" min="0" placeholder="0"></div>
            </fieldset>
            
            <fieldset>
                <legend>5. مستفيدون آخرون (إن وجد)</legend>
                <div id="otherBeneficiariesContainer">
                    </div>
                <button type="button" id="addOtherBeneficiaryBtn" class="add-btn">+ إضافة مستفيد آخر</button>
            </fieldset>

            <button type="submit">عرض التقرير</button>
        </form>

        <div id="reportSection" class="hidden">
            <fieldset><legend>التقرير النهائي لوضع العائلة</legend><div id="reportContent"><h2 id="reportClassification"></h2><hr><h3>ملخص مالي:</h3><p><strong>إجمالي الدخل الشهري:</strong> <span id="reportTotalIncome"></span></p><p><strong>إجمالي النفقات الشهرية:</strong> <span id="reportTotalExpenses"></span></p><p class="net-income"><strong>صافي الدخل (الفائض/العجز):</strong> <span id="reportNetIncome"></span></p><hr><h3>ملخص البيانات المدخلة:</h3><p id="reportSummaryText"></p></div><button id="printButton">طباعة التقرير</button></fieldset>
        </div>
    </div>

    <template id="otherBeneficiaryTemplate">
        <div class="beneficiary-card">
            <button type="button" class="remove-btn">×</button>
            <div class="form-row"><div class="form-group"><label>صلة القرابة:</label><select class="beneficiary-relation"><option value="">-- اختر --</option><option value="الابن">الابن</option><option value="البنت">البنت</option><option value="الاخ">الاخ</option><option value="الاخت">الاخت</option><option value="آخر">آخر</option></select></div><div class="form-group"><label>اسم المستفيد:</label><input type="text" class="beneficiary-name" placeholder="اسم المستفيد الآخر"></div></div>
            <div class="form-row"><div class="form-group"><label>الدخل الشهري:</label><input type="number" class="beneficiary-income" placeholder="0" value="0"></div><div class="form-group"><label>المصاريف الشهرية:</label><input type="number" class="beneficiary-expenses" placeholder="0" value="0"></div></div>
        </div>
    </template>

    <script src="script.js"></script>
</body>
</html>
